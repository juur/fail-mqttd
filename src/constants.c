#include "mqtt.h"
#include "config.h"

const mqtt_payload_required mqtt_packet_to_payload[MQTT_CP_MAX] = {
    [MQTT_CP_CONNECT]     = MQTT_PAYLOAD_REQUIRED,
    [MQTT_CP_CONNACK]     = MQTT_PAYLOAD_NONE,
    [MQTT_CP_PUBLISH]     = MQTT_PAYLOAD_OPTIONAL,
    [MQTT_CP_PUBACK]      = MQTT_PAYLOAD_NONE,
    [MQTT_CP_PUBREC]      = MQTT_PAYLOAD_NONE,
    [MQTT_CP_PUBREL]      = MQTT_PAYLOAD_NONE,
    [MQTT_CP_PUBCOMP]     = MQTT_PAYLOAD_NONE,
    [MQTT_CP_SUBSCRIBE]   = MQTT_PAYLOAD_REQUIRED,
    [MQTT_CP_SUBACK]      = MQTT_PAYLOAD_REQUIRED,
    [MQTT_CP_UNSUBSCRIBE] = MQTT_PAYLOAD_REQUIRED,
    [MQTT_CP_UNSUBACK]    = MQTT_PAYLOAD_REQUIRED,
    [MQTT_CP_PINGREQ]     = MQTT_PAYLOAD_NONE,
    [MQTT_CP_PINGRESP]    = MQTT_PAYLOAD_NONE,
    [MQTT_CP_DISCONNECT]  = MQTT_PAYLOAD_NONE,
    [MQTT_CP_AUTH]        = MQTT_PAYLOAD_NONE,
};

const mqtt_types mqtt_property_to_type[MQTT_MAX_PROPERTY_IDENT] = {
    [MQTT_PAYLOAD_FORMAT_INDICATOR]          = MQTT_TYPE_BYTE,
    [MQTT_MESSAGE_EXPIRY_INTERVAL]           = MQTT_TYPE_4BYTE,
    [MQTT_CONTENT_TYPE]                      = MQTT_TYPE_UTF8_STRING,
    [MQTT_RESPONSE_TOPIC]                    = MQTT_TYPE_UTF8_STRING,
    [MQTT_CORRELATION_DATA]                  = MQTT_TYPE_BINARY,
    [MQTT_SUBSCRIPTION_IDENTIFIER]           = MQTT_TYPE_VARBYTE,
    [MQTT_SESSION_EXPIRY_INTERVAL]           = MQTT_TYPE_4BYTE,
    [MQTT_ASSIGNED_CLIENT_IDENTIFIER]        = MQTT_TYPE_UTF8_STRING,
    [MQTT_SERVER_KEEP_ALIVE]                 = MQTT_TYPE_2BYTE,
    [MQTT_AUTHENTICATION_METHOD]             = MQTT_TYPE_UTF8_STRING,
    [MQTT_AUTHENTICATION_DATA]               = MQTT_TYPE_BINARY,
    [MQTT_REQUEST_PROBLEM_INFORMATION]       = MQTT_TYPE_BYTE,
    [MQTT_WILL_DELAY_INTERVAL]               = MQTT_TYPE_4BYTE,
    [MQTT_REQUEST_RESPONSE_INFORMATION]      = MQTT_TYPE_BYTE,
    [MQTT_RESPONSE_INFORMATION]              = MQTT_TYPE_UTF8_STRING,
    [MQTT_SERVER_REFERENCE]                  = MQTT_TYPE_UTF8_STRING,
    [MQTT_REASON_STRING]                     = MQTT_TYPE_UTF8_STRING,
    [MQTT_RECEIVE_MAXIMUM]                   = MQTT_TYPE_2BYTE,
    [MQTT_TOPIC_ALIAS_MAXIMUM]               = MQTT_TYPE_2BYTE,
    [MQTT_TOPIC_ALIAS]                       = MQTT_TYPE_2BYTE,
    [MQTT_MAXIMUM_QOS]                       = MQTT_TYPE_BYTE,
    [MQTT_RETAIN_AVAILABLE]                  = MQTT_TYPE_BYTE,
    [MQTT_USER_PROPERTY]                     = MQTT_TYPE_UTF8_STRING_PAIR,
    [MQTT_MAXIMUM_PACKET_SIZE]               = MQTT_TYPE_4BYTE,
    [MQTT_WILDCARD_SUBSCRIPTION_AVAILABLE]   = MQTT_TYPE_BYTE,
    [MQTT_SUBSCRIPTION_IDENTIFIER_AVAILABLE] = MQTT_TYPE_BYTE,
    [MQTT_SHARED_SUBSCRIPTION_AVAILABLE]     = MQTT_TYPE_BYTE,
};
